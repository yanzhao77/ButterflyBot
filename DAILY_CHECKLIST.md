# 阶段1每日检查清单

## 使用说明

本清单用于阶段1实盘测试期间的每日检查。请每天按照清单逐项检查，并在完成后打✓。

**重要：** 所有检查项必须通过才能开始交易！

---

## 交易前检查（每日 08:30）

### 系统检查

- [ ] 网络连接正常（ping测试）
- [ ] 服务器/电脑运行正常
- [ ] Python环境正常
- [ ] 交易所API连接正常
- [ ] 模型文件存在且完整
- [ ] 历史数据已更新到最新
- [ ] 监控脚本可以正常运行
- [ ] 日志文件可以正常写入

**检查命令：**
```bash
# 测试网络
ping -c 3 www.binance.com

# 测试API连接
python3 -c "import ccxt; exchange = ccxt.binance(); print(exchange.fetch_ticker('DOGE/USDT'))"

# 检查模型
ls -lh models/registry/*balanced.pkl

# 检查数据
python3 -c "import pandas as pd; df = pd.read_csv('cached_data/binance_DOGE_USDT_15m.csv'); print(f'{len(df)} rows, latest: {df.iloc[-1][\"timestamp\"]}')"
```

### 账户检查

- [ ] 登录交易所账户
- [ ] 检查账户余额正确
- [ ] 检查无异常持仓
- [ ] 检查无挂单
- [ ] 检查API权限正常（仅交易，不提现）
- [ ] 上日交易已结算
- [ ] 手续费账户余额充足

**检查要点：**
- 账户余额应该等于昨日收盘权益
- 不应该有任何持仓（除非是隔夜单）
- 不应该有任何挂单

### 市场检查

- [ ] 查看DOGE/USDT当前价格
- [ ] 查看24小时价格走势
- [ ] 查看24小时成交量
- [ ] 检查市场波动率（是否异常）
- [ ] 查看加密货币市场整体情况
- [ ] 关注重大新闻事件
- [ ] 评估市场环境（趋势/震荡/极端）

**市场评估：**
- 趋势市：明确的上涨或下跌趋势 → 适合交易
- 震荡市：横盘整理 → 谨慎交易
- 极端市：暴涨暴跌 → 暂停交易

### 策略检查

- [ ] 确认置信度阈值：**0.08**
- [ ] 确认止损：**2.0%**
- [ ] 确认止盈：**2.5%**
- [ ] 确认时间止损：**15根K线**
- [ ] 确认冷却期：**5根K线**
- [ ] 确认最大仓位：**20%**
- [ ] 确认单日最大亏损：**$5**
- [ ] 确认单日最大交易：**10次**

**参数文件：**
```python
# config_stage1.py
CONFIDENCE_THRESHOLD = 0.08
STOP_LOSS_PCT = 0.02
TAKE_PROFIT_PCT = 0.025
TIME_STOP_BARS = 15
COOLDOWN_BARS = 5
MAX_POSITION_RATIO = 0.20
DAILY_MAX_LOSS = 5.0
DAILY_MAX_TRADES = 10
```

### 风控检查

- [ ] 检查昨日是否触发风控
- [ ] 检查当前回撤是否超限
- [ ] 检查是否有连续亏损
- [ ] 检查是否在暂停期
- [ ] 确认今日可以交易

**风控状态：**
- 绿灯🟢：所有指标正常，可以交易
- 黄灯🟡：有警戒信号，谨慎交易
- 红灯🔴：触发风控，禁止交易

---

## 交易中监控（每小时 09:00-18:00）

### 持仓监控

- [ ] 检查当前持仓状态（多/空/无）
- [ ] 计算当前持仓盈亏
- [ ] 检查持仓时间（根数）
- [ ] 评估是否需要手动干预

**持仓评估：**
```
当前持仓：做多
开仓价格：0.3850
当前价格：0.3920
当前盈亏：+1.82% (+$0.45)
持仓时间：3根K线
状态：✅ 正常
```

### 风控监控

- [ ] 检查当日盈亏（是否接近-$5）
- [ ] 检查当日交易次数（是否接近10次）
- [ ] 检查连续亏损次数
- [ ] 确认风控参数未触发

**当日统计：**
```
当日盈亏：+$2.30 (✅ 距离-$5还有$7.30)
交易次数：5次 (✅ 距离10次还有5次)
连续亏损：0次 (✅ 无连续亏损)
风控状态：🟢 正常
```

### 性能监控

- [ ] 查看当前胜率
- [ ] 查看当前盈亏比
- [ ] 分析交易质量
- [ ] 记录异常情况

**性能指标：**
```
总交易：27次
胜率：59.3% (✅ >50%)
盈亏比：1.35:1 (✅ >1.2:1)
平均盈利：$1.20
平均亏损：$0.60
```

### 异常检测

- [ ] 检查是否有异常滑点（>0.2%）
- [ ] 检查是否有异常持仓时间（>20根）
- [ ] 检查是否有异常盈亏（单笔>$5）
- [ ] 检查市场是否异常波动

**异常处理：**
- 发现异常 → 记录日志
- 严重异常 → 手动干预
- 极端异常 → 暂停交易

---

## 交易后复盘（每日 18:30）

### 数据记录

- [ ] 保存当日所有交易记录
- [ ] 生成每日报告
- [ ] 更新权益曲线
- [ ] 备份数据文件到云端/U盘

**数据文件：**
```
stage1_data/
├── trades.json          # 交易记录
├── equity.json          # 权益曲线
├── daily.json           # 每日统计
├── daily_report_2025-11-28.txt  # 日报
└── backup/              # 备份目录
```

### 性能分析

- [ ] 分析当日盈亏原因
- [ ] 评估交易质量（优秀/一般/糟糕）
- [ ] 识别最佳交易（学习经验）
- [ ] 识别最差交易（吸取教训）
- [ ] 总结经验教训

**交易分析模板：**
```markdown
## 今日最佳交易
- 类型：做多
- 进出：0.3850 → 0.3920
- 收益：+1.82% (+$0.45)
- 原因：信号强烈（prob=0.72），快速止盈
- 经验：高置信度信号质量高，应该果断执行

## 今日最差交易
- 类型：做空
- 进出：0.3900 → 0.3950
- 收益：-1.28% (-$0.32)
- 原因：市场突然反弹，止损
- 教训：震荡市做空需谨慎，应该等待更明确的信号
```

### 风险评估

- [ ] 检查是否触发风控
- [ ] 评估当前回撤水平
- [ ] 预测明日风险
- [ ] 决定是否需要调整策略

**风险评估：**
```
当前回撤：3.50% (✅ <15%)
连续亏损：0次 (✅ <5次)
单日最大亏损：-$1.00 (✅ <$5)
风险等级：🟢 低风险
明日建议：✅ 继续交易
```

### 报告提交

- [ ] 填写交易日志（见模板）
- [ ] 记录关键事件
- [ ] 提出改进建议
- [ ] 规划明日策略

**交易日志：**
```markdown
# 交易日志 - 2025-11-28

## 市场概况
- 价格范围：0.3800 - 0.3950
- 波动率：中等
- 市场环境：震荡
- 重大事件：无

## 交易总结
- 交易次数：5次
- 盈利：3次（60%）
- 亏损：2次（40%）
- 总盈亏：+$2.30 (+2.30%)

## 经验教训
- 成功：高置信度信号质量高
- 失败：震荡市做空容易亏损
- 改进：提高做空的置信度要求

## 明日计划
- 继续观察市场环境
- 保持当前参数
- 谨慎做空
```

---

## 每周检查（周日）

### 周度总结

- [ ] 生成每周报告
- [ ] 统计周度数据
- [ ] 分析周度表现
- [ ] 对比目标完成情况

**周度指标：**
```
周收益：+$6.00 (+6.00%)
周交易：27次
周胜率：59.3%
盈利天数：5天
亏损天数：2天
```

### 深度分析

- [ ] 分析盈利/亏损原因
- [ ] 识别交易模式
- [ ] 评估策略有效性
- [ ] 发现改进机会

**分析要点：**
- 哪些类型的交易盈利最多？
- 哪些类型的交易亏损最多？
- 市场环境对表现的影响？
- 参数设置是否合理？

### 参数调整

- [ ] 评估是否需要调整参数
- [ ] 如需调整，制定调整方案
- [ ] 记录调整原因和预期效果
- [ ] 给新参数至少3天观察期

**调整原则：**
- 每次只调整1-2个参数
- 记录调整原因
- 观察至少3天
- 效果不佳及时回调

### 进度评估

- [ ] 对比阶段1目标
- [ ] 评估是否达标
- [ ] 预测能否进入阶段2
- [ ] 制定下周计划

**进度检查：**
```
✅ 收益率：+6.00% (目标>10%，进度60%)
✅ 胜率：59.3% (目标>50%)
✅ 回撤：3.50% (目标<15%)
✅ 系统稳定：无故障
🎯 预计第2周可达成目标
```

---

## 应急检查

### 连续亏损处理

**触发条件：** 连续亏损3次

- [ ] 立即暂停交易1小时
- [ ] 分析亏损原因
- [ ] 评估市场环境
- [ ] 决定是否继续
- [ ] 记录分析结果

### 单日亏损超限

**触发条件：** 单日亏损≥$5

- [ ] 立即停止当日交易
- [ ] 平掉所有持仓
- [ ] 深度分析原因
- [ ] 撰写分析报告
- [ ] 次日决定是否继续

### 回撤超限

**触发条件：** 账户回撤≥15%

- [ ] 立即停止所有交易
- [ ] 平掉所有持仓
- [ ] 全面评估策略
- [ ] 召开评估会议
- [ ] 决定是否继续测试

### 系统故障

**触发条件：** 网络中断、交易所故障、程序崩溃

- [ ] 立即停止自动交易
- [ ] 手动检查持仓状态
- [ ] 评估风险，必要时手动平仓
- [ ] 等待系统恢复
- [ ] 检查数据完整性
- [ ] 验证系统正常后恢复

---

## 检查清单使用记录

### 第1天 - 2025-11-28

**交易前检查：** ✅ 全部通过  
**交易中监控：** ✅ 正常  
**交易后复盘：** ✅ 已完成  
**风控状态：** 🟢 正常  
**备注：** 首日测试，系统运行正常

---

### 第2天 - 2025-11-29

**交易前检查：** ✅ 全部通过  
**交易中监控：** ✅ 正常  
**交易后复盘：** ✅ 已完成  
**风控状态：** 🟢 正常  
**备注：** 无

---

### 第3天 - 2025-11-30

**交易前检查：** □ 待检查  
**交易中监控：** □ 待监控  
**交易后复盘：** □ 待复盘  
**风控状态：** □ 待评估  
**备注：**

---

## 附录：快速检查脚本

### 一键检查脚本

```bash
#!/bin/bash
# quick_check.sh - 快速检查脚本

echo "========================================="
echo "阶段1每日快速检查"
echo "========================================="

# 检查网络
echo -n "网络连接: "
ping -c 1 www.binance.com > /dev/null 2>&1 && echo "✅" || echo "❌"

# 检查Python
echo -n "Python环境: "
python3 --version > /dev/null 2>&1 && echo "✅" || echo "❌"

# 检查模型
echo -n "模型文件: "
ls models/registry/*balanced.pkl > /dev/null 2>&1 && echo "✅" || echo "❌"

# 检查数据
echo -n "历史数据: "
python3 -c "import pandas as pd; df = pd.read_csv('cached_data/binance_DOGE_USDT_15m.csv'); print('✅', len(df), 'rows')" 2>/dev/null || echo "❌"

# 检查监控
echo -n "监控脚本: "
python3 stage1_monitor.py > /dev/null 2>&1 && echo "✅" || echo "❌"

echo "========================================="
echo "检查完成！"
echo "========================================="
```

**使用方法：**
```bash
chmod +x quick_check.sh
./quick_check.sh
```

---

## 总结

### 检查要点

1. **交易前必须检查** - 确保系统、账户、市场、策略都正常
2. **交易中持续监控** - 每小时检查持仓、风控、性能
3. **交易后认真复盘** - 分析交易、评估风险、记录日志
4. **每周深度分析** - 总结经验、调整参数、评估进度

### 注意事项

- ⚠️ 所有检查项必须通过才能开始交易
- ⚠️ 发现异常立即处理，不要侥幸
- ⚠️ 严格执行风控，不要心存侥幸
- ⚠️ 认真记录日志，积累经验

### 纪律要求

- 每天必须完成所有检查
- 每笔交易必须记录
- 每日必须复盘
- 每周必须总结

**记住：纪律是成功的基础！** 🎯
